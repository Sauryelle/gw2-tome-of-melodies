<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarya's Tab Manager</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>
<body class="flex flex-col md:flex-row p-4 md:p-6 gap-4 md:gap-6 h-screen box-border overflow-y-auto md:overflow-hidden min-w-0">

    <div class="sidebar gw2-panel flex flex-col w-full md:w-[280px] lg:w-[350px] flex-shrink-0 p-3 md:p-4 rounded-xl shadow-2xl z-10 md:h-full">

        <div class="flex items-center gap-3 mb-3 border-b border-[#5a4b3c] pb-2">
            <img src="saryamusic2.png" alt="Sarya's Music" class="h-10 w-10 md:h-12 md:w-12 object-contain drop-shadow-md" onerror="this.style.display='none'">
            <div class="flex flex-col">
                <h2 class="gw2-title text-lg lg:text-xl leading-none tracking-wider m-0">Tome of Melodies</h2>
                <button id="btn-open-piano" class="text-[#d4af37] text-[10px] uppercase font-bold tracking-widest hover:text-white text-left mt-1 cursor-pointer transition-colors w-fit">
                    â–¶ Play Virtual Piano
                </button>
            </div>
        </div>

        <input type="text" id="search-bar" class="gw2-input px-2 py-1.5 rounded text-xs mb-2" placeholder="Search tabs...">
        <div class="flex gap-1 mb-2">
            <select id="filter-artist" class="gw2-input flex-1 px-1.5 py-1 rounded text-[10px] cursor-pointer min-w-0">
                <option value="">All Artists</option>
            </select>
            <select id="filter-category" class="gw2-input flex-1 px-1.5 py-1 rounded text-[10px] cursor-pointer min-w-0">
                <option value="">All Categories</option>
            </select>
        </div>

        <button id="btn-show-add" class="gw2-button px-3 py-1.5 rounded font-bold text-xs tracking-widest mb-2 shadow-sm">âž• Scribe New Tab</button>

        <div class="flex items-center justify-between bg-[rgba(0,0,0,0.2)] p-1.5 rounded border border-[#5a4b3c] mb-3">

            <label class="flex items-center gap-1 cursor-pointer text-[#d4af37] font-['Cinzel'] text-[10px] tracking-wide" title="Keep App on Top">
                <input type="checkbox" id="toggle-top" class="w-3 h-3 accent-[#6a1f1f] cursor-pointer">
                On Top
            </label>

            <div class="flex gap-1">
                <button id="btn-export" class="gw2-button px-2 py-1 rounded text-[10px] flex items-center justify-center" title="Export Tome (JSON)">ðŸ“¤</button>

                <label for="file-import" class="gw2-button px-2 py-1 rounded text-[10px] cursor-pointer mb-0 flex items-center justify-center" title="Import Tome (JSON)">ðŸ“¥</label>
                <input type="file" id="file-import" accept=".json" class="hidden">

                <label for="file-import-gw2tabs" class="gw2-button px-2 py-1 rounded text-[10px] cursor-pointer mb-0 flex items-center justify-center text-[#8faab8]" title="Import GW2Tabs (.xml)">ðŸ“œ</label>
                <input type="file" id="file-import-gw2tabs" accept=".xml" class="hidden">
            </div>
        </div>

        <ul id="tab-list" class="flex-1 overflow-y-auto pr-2 flex flex-col gap-1 cursor-pointer min-h-[200px] md:min-h-0 custom-scrollbar">
        </ul>
    </div>

    <div class="main-content flex-1 flex flex-col h-full min-w-0 z-10">

        <div id="add-view" class="gw2-panel flex-1 flex flex-col p-6 lg:p-8 rounded-xl h-full">
            <h2 id="add-view-title" class="gw2-title text-3xl lg:text-4xl mb-6">Scribe New Tab</h2>

            <div class="flex flex-col lg:flex-row gap-4 mb-4">
                <input type="text" id="input-artist" class="gw2-input flex-1 px-4 py-2 rounded text-base lg:text-lg min-w-0" placeholder="Artist" maxlength="100" required>
                <input type="text" id="input-song" class="gw2-input flex-1 px-4 py-2 rounded text-base lg:text-lg min-w-0" placeholder="Song Name" maxlength="150" required>
                <input type="text" id="input-category" class="gw2-input flex-1 px-4 py-2 rounded text-base lg:text-lg min-w-0" placeholder="Category (Optional)" maxlength="50">
            </div>

            <textarea id="input-tab" class="gw2-textarea flex-1 p-4 rounded-lg mb-2 resize-none min-h-[150px]" placeholder="Paste your musical incantations here..." maxlength="5000"></textarea>

            <div id="tab-counter" class="text-right text-[#8c7355] text-xs font-['Cinzel'] mb-4 tracking-widest">0 / 5000</div>

            <div class="flex justify-end">
                <button id="btn-save" class="gw2-button px-6 lg:px-8 py-2 lg:py-3 rounded font-bold text-sm lg:text-lg tracking-widest">Seal Tab into Tome</button>
            </div>
        </div>

       <div id="read-view" class="gw2-panel flex-1 flex flex-col p-6 lg:p-8 rounded-xl hidden h-full min-w-0">
            <div class="flex justify-between items-start border-b border-[#5a4b3c] pb-2 mb-3">
                <div class="min-w-0 pr-2">
                    <h2 id="display-title" class="gw2-title text-2xl lg:text-3xl mb-1 break-words leading-tight">Song Title</h2>
                    <div class="flex items-center gap-2 flex-wrap">
                        <h4 id="display-artist" class="text-[#d4af37] font-['Cinzel'] text-sm lg:text-base break-words">Artist</h4>
                        <span id="display-category" class="inline-block bg-[#181514] border border-[#5a4b3c] px-2 py-0.5 rounded text-[10px] text-[#8c7355] font-bold tracking-widest uppercase">Category</span>
                    </div>
                </div>
                <div class="flex gap-1 flex-shrink-0 flex-wrap justify-end">
                    <button id="btn-font-down" class="gw2-button w-8 h-8 rounded font-bold flex items-center justify-center text-sm" title="Decrease Font">A-</button>
                    <button id="btn-font-up" class="gw2-button w-8 h-8 rounded font-bold flex items-center justify-center text-sm mr-2" title="Increase Font">A+</button>
                    <button id="btn-edit-tab" class="gw2-button px-3 py-1 rounded font-bold text-xs tracking-widest h-8 flex items-center">Edit</button>
                    <button id="btn-delete-tab" class="gw2-button px-3 py-1 rounded font-bold text-xs tracking-widest h-8 flex items-center" title="Delete Tab">Delete</button>
                </div>
            </div>
            <pre id="display-tab" class="gw2-textarea select-text flex-1 p-4 lg:p-6 rounded-lg overflow-auto whitespace-pre-wrap break-words min-w-0"></pre>
        </div>

    <script src="renderer.js"></script>
</body>
</html>
